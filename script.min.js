function addElementToArray(e){const t={id:Date.now(),text:e,completed:!1};taArr.push(t),addElementToList(taArr),addTasksTolocalStorage(taArr),deletTaskwith(taArr)}function addElementToList(e){tasksParent.innerHTML="",e.forEach(e=>{let t=document.createElement("li");e.completed?t.innerHTML=`<button class="delet " data-id="${e.id}"> X </button>\n            <input type="checkbox" name="done" class="done" id='${e.id}' checked>\n            <p class="task">${e.text}</p>`:t.innerHTML=`<button class="delet" data-id="${e.id}"> X </button>\n            <input type="checkbox" name="done" class="done" id='${e.id}' >\n            <p class="task">${e.text}</p>`,tasksParent.appendChild(t)}),checkChecked(e)}function addTasksTolocalStorage(e){window.localStorage.setItem("item",JSON.stringify(taArr))}function getDataFromLocal(){let e=window.localStorage.getItem("item");e&&(tasks=JSON.parse(e),addElementToList(tasks),deletTaskwith(tasks))}function checkChecked(e){e.forEach(e=>{let t=document.getElementById(`${e.id}`);t.addEventListener("change",()=>{e.completed?(e.completed=!1,t.setAttribute("checked","")):(e.completed=!0,t.removeAttribute("checked")),addTasksTolocalStorage(taArr)})})}function deletTaskwith(e){taArr=taArr.filter(t=>t.id!=e),addTasksTolocalStorage(taArr),console.log(taArr);let t=document.querySelectorAll(".delet");t.forEach(e=>{e.addEventListener("click",e=>{deletTaskwith(e.target.dataset.id),e.target.parentElement.remove(),console.log(e.target.dataset.id)})})}let inputField=document.getElementById("new-task"),addButton=document.getElementById("add"),tasksParent=document.getElementById("tasks-list"),taArr=[];localStorage.getItem("item")&&(taArr=JSON.parse(localStorage.getItem("item"))),getDataFromLocal(),addButton.onclick=(()=>{inputField.value&&(addElementToArray(inputField.value),inputField.value=""),deletTaskwith()}),checkChecked(taArr);let clear=document.querySelector(".clear");clear.addEventListener("click",()=>{taArr=[],addElementToList(taArr),addTasksTolocalStorage(taArr)});